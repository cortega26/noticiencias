---
import { Icon } from 'astro-icon/components';

interface Props {
  variant?: 'default' | 'success' | 'warning' | 'error' | 'info';
  size?: 'sm' | 'md';
  icon?: string;
  class?: string;
  [key: string]: any;
}

const {
  variant = 'default',
  size = 'md',
  icon,
  class: className = '',
  ...rest
} = Astro.props;

const variants = {
  default: "bg-surface-highlight text-text-body border-border-subtle",
  success: "bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-100 border-transparent",
  warning: "bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-100 border-transparent",
  error: "bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-100 border-transparent",
  info: "bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-100 border-transparent",
};

const sizes = {
  sm: "text-xs px-2 py-0.5",
  md: "text-sm px-2.5 py-0.5",
};

const baseStyles = "inline-flex items-center justify-center rounded-full font-medium border";
---

<span class:list={[baseStyles, variants[variant], sizes[size], className]} {...rest}>
  {icon && <Icon name={icon} class="w-3.5 h-3.5 mr-1" />}
  <slot />
</span>
